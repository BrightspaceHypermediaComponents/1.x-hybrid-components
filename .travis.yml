language: node_js
node_js: node
addons:
  chrome: stable
script:
- npm run lint
- |
  if [ $TRAVIS_PULL_REQUEST != false ] && [ $TRAVIS_SECURE_ENV_VARS == true ]; then
    echo "Pull request with secure environment variables, running Sauce tests...";
    npm run test:polymer:sauce || travis_terminate 1;
  else
    echo "Not a pull request and/or no secure environment variables, running headless tests...";
    npm run test:polymer:local || travis_terminate 1;
  fi
env:
  global:
  - SAUCE_USERNAME: Desire2Learn
  - secure: aKpezXru4J1rb4H2BuzhYc8eJC3kpAyCzSXwFSUjKOFAsfXorhPeVeHScnyQ0Jzk5sM63CP0PXhQOVMN5tq7qUUB1AkyRDQ0eGf2HaSQHAKJFqrXFzN1RfbZyQBjIP91aTgRJT9Di6LkmDyGTWO7cizdh8z7ftZgkR/8/29jwKI/J3zF1HhMZemSNZd/YRudZXx7MZFln5VGbckiMfNJ6WjM+OZkq4UfKKpFVGmDJshkd0BYXYTRUg7fLhJTebW064H9izanL4Yq/nU3n4tq/tRL8aivvmmS4z4cjD6iHLDMlyx8DKQ8T3KyzAA68vN0Vj5fUmrE+RJh4my1VzazJPT/DhMhbfqahH7piiGrLY6/A4SWALXKhsBwHjHAiYUEhokqohOX/ix8Q4A8PEyudfLs72IeuTy5Zt/lQGby8yjsofSS+cxPRJ+WdQX/wLv/VscAkUcsJHRThgE2QC0I1fD9jdsOuTPNPzzJf7+mPeC38sx8s8pCRhhtHT+U3Dz9RlRSE1/T3AgwM15WvWU6XKlNaEyleSNge7dUHPDCRzKpPfLajdeJZ1xgkQhWnJy7at41NGP4V5kVwqgsgooOT+7ZTURY5tz4Bo39G6bFOmJl3XAycqzQ1+QF47NW264b66SSNk+h+Kt+Gbmf7lbuotqB8eIv3v6fwXgAVCYbCn0=
